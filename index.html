<html>
<script type="text/javascript">
alert("a");
alert(navigator.storage);
  
  function showCacheSize() {
    var index = document.getElementById("index").value;
    caches.open("storage_test")
    .then(cache => {
      return cache.match(index);
    })
    .then(response => {
      if(!response)
        return;
      return response.arrayBuffer();
    })
    .then(buffer => {
      if(!buffer){
        document.getElementById("message").innerHTML = "no cache";
        return;
      }
      document.getElementById("message").innerHTML = buffer.byteLength + "bytes";
    });
  }
</script>
<body>
  Index: <select id="index" name="simple">
    <option>1</option>
    <option>2</option>
    <option>3</option>
    <option>4</option>
    <option>5</option>
    <option>6</option>
    <option>7</option>
    <option>8</option>
    <option>9</option>
    <option>10</option>
  </select>
  <br/>
  <select id="size" name="simple">
    <option value=1000000000>1GB</option>
    <option value=10000000000>10GB</option>
    <option value=1000000>1MB</option>
    <option value=10000000>10MB</option>
  </select>
  <br/>
  <input type="button" value="キャッシュサイズ表示" onclick="showCacheSize();"/> 
  <input type="button" value="キャッシュ生成"/>
  <br/>
  <div id="message"></div>
</body>
</html>
